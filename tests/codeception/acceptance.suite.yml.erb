# Codeception Test Suite Configuration

# suite for acceptance tests.
# perform tests in browser using the Selenium-like tools.
# powered by Mink (http://mink.behat.org).
# (tip: that's what your customer will see).
# (tip: test your ajax and javascript by one of Mink drivers).

# RUN `build` COMMAND AFTER ADDING/REMOVING MODULES.

class_name: WebGuy
modules:
    enabled:
        - WebDriver
        - WebHelper
    config:
        WebDriver:
            <% if ENV.has_key? "CI" and ENV['CI'].to_s != "" %>
            host: '<%= ENV['SAUCE_USERNAME'] %>:<%= ENV['SAUCE_ACCESS_KEY'] %>@ondemand.saucelabs.com'
            port: 80
            <% end %>
            wait: 1
            restart: true

env:
    cms-local-chrome:
        modules:
            config:
                WebDriver:
                    url: http://<%= ENV['CMS_HOST'] %>/index-test.php
                    browser: 'chrome'

    cms-saucelabs-chrome-win8:
        modules:
            config:
                WebDriver:
                    url: http://<%= ENV['CMS_HOST'] %>/index-test.php
                    browser: 'chrome'
                    capabilities:
                        unexpectedAlertBehaviour: 'accept'
                        platform: 'Windows 8.1'
                        version: '34'

    cms-saucelabs-chrome-winxp:
        modules:
            config:
                WebDriver:
                    url: http://<%= ENV['CMS_HOST'] %>/index-test.php
                    browser: 'chrome'
                    capabilities:
                        unexpectedAlertBehaviour: 'accept'
                        platform: 'Windows XP'
                        version: '34'

    go-saucelabs-chrome-win8:
        modules:
            config:
                WebDriver:
                    url: http://<%= ENV['CANONICAL_HOST'] %>/go
                    browser: 'chrome'
                    capabilities:
                        unexpectedAlertBehaviour: 'accept'
                        platform: 'Windows 8.1'
                        version: '34'

    go-saucelabs-chrome-winxp:
        modules:
            config:
                WebDriver:
                    url: http://<%= ENV['CANONICAL_HOST'] %>/go
                    browser: 'chrome'
                    capabilities:
                        unexpectedAlertBehaviour: 'accept'
                        platform: 'Windows XP'
                        version: '34'
